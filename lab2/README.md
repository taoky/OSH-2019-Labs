# OSH 实验 2: Shell (README)

## 简介

`tsh` 实现了一部分简单的 Shell 功能，列表如下：

- 基于 `readline` 库的界面，包含了简单的对内置命令的自动补全。
- 内建命令有：
  - `cd`：如果没有参数，跳至家目录，否则跳至参数指定目录。
  - `pwd`
  - `export`：如果没有参数，效果与 `env` 相同，否则设置环境变量。
  - `exit`
- 支持管道（包括多重管道）。
- 支持使用 `>`, `<` 和 `>>` 的简单文件重定向（包括多重文件重定向）。
  - 支持基于文件描述符的文件重定向。
  - 支持 `<<` 与 `<<<`。
- 支持基于环境变量的变量代换。
- 在程序执行错误时，会显示程序返回值与 0337 相与的返回码（支持内建命令）。

## 编译

本程序使用 ~~C with `string` and `vector`~~ C++ 编写，多文件，包含了一个 Makefile 文件，需要提前安装 `readline` 库，并且在 `glibc` 下编译（由于使用了 `get_current_dir_name()` 等库函数）。在 `./lab2` 下执行 `make` 即可。

关于函数 `char** builtin_name_completion(const char*, int, int)` 的警告可以忽略。

## 演示

运行实验要求样例。

